<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI Study Buddy</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700&family=DM+Serif+Display:ital@0;1&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="bg-blobs">
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="blob blob-3"></div>
  </div>

  <header class="site-header">
    <div class="header-inner">
      <div class="logo">
        <span class="logo-icon">â¬¡</span>
        <span class="logo-text">Study<em>Buddy</em></span>
      </div>
      <div class="header-actions">
        <button class="btn-history" id="historyBtn" title="History">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M12 7v5l4 2"/></svg>
        </button>
        <button class="btn-dark" id="darkToggle" title="Toggle dark mode">
          <svg class="sun-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>
          <svg class="moon-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        </button>
      </div>
    </div>
  </header>

  <main class="main-container">

    <!-- Hero -->
    <section class="hero">
      <div class="hero-tag">AI-Powered Learning</div>
      <h1 class="hero-title">Your personal<br><em>study companion</em></h1>
      <p class="hero-sub">Paste any topic or notes â€” get instant explanations, summaries, MCQs &amp; flashcards.</p>
    </section>

    <!-- Input Card -->
    <div class="card input-card">
      <div class="card-label">What are you studying?</div>
      <textarea
        id="topicInput"
        placeholder="e.g. 'Photosynthesis', 'Newton's Laws of Motion', or paste your study notes here..."
        rows="6"
        maxlength="3000"
      ></textarea>
      <div class="char-counter"><span id="charCount">0</span> / 3000</div>

      <div class="controls-row">
        <div class="mode-select-wrap">
          <label for="modeSelect">Explanation Mode</label>
          <div class="select-outer">
            <select id="modeSelect">
              <option value="simple">ğŸ“ Simple â€” Easy Language</option>
              <option value="exam">ğŸ“‹ Exam Mode â€” Structured Points</option>
              <option value="analogy">ğŸ’¡ Analogy Mode â€” Real-Life Examples</option>
            </select>
            <svg class="select-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="6 9 12 15 18 9"/></svg>
          </div>
        </div>

        <button id="generateBtn" class="btn-generate">
          <span class="btn-text">Generate</span>
          <svg class="btn-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </button>
      </div>
    </div>

    <!-- Spinner -->
    <div id="loadingSpinner" class="loading-wrap hidden">
      <div class="spinner-ring"></div>
      <p class="loading-text">AI is generating your study materialâ€¦</p>
      <p class="loading-sub">This may take 15â€“30 seconds</p>
    </div>

    <!-- Error -->
    <div id="errorBox" class="error-box hidden">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
      <span id="errorMsg"></span>
    </div>

    <!-- Output -->
    <div id="outputSection" class="output-section hidden">

      <div class="output-header">
        <h2 class="output-title">Study Material Ready</h2>
        <button id="downloadBtn" class="btn-download">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
          Download .txt
        </button>
      </div>

      <div class="output-grid">

        <!-- Explanation -->
        <div class="output-card card" id="explanationCard">
          <div class="output-card-header">
            <span class="output-card-icon">ğŸ“–</span>
            <span class="output-card-title">Explanation</span>
          </div>
          <div id="explanationContent" class="output-card-body"></div>
        </div>

        <!-- Summary -->
        <div class="output-card card" id="summaryCard">
          <div class="output-card-header">
            <span class="output-card-icon">âœ¨</span>
            <span class="output-card-title">Summary</span>
          </div>
          <div id="summaryContent" class="output-card-body"></div>
        </div>

        <!-- MCQs -->
        <div class="output-card card full-width" id="mcqCard">
          <div class="output-card-header">
            <span class="output-card-icon">ğŸ“</span>
            <span class="output-card-title">Multiple Choice Questions</span>
            <span class="badge">5 Questions</span>
          </div>
          <div id="mcqContent" class="output-card-body mcq-body"></div>
        </div>

        <!-- Flashcards -->
        <div class="output-card card full-width" id="flashcardCard">
          <div class="output-card-header">
            <span class="output-card-icon">ğŸƒ</span>
            <span class="output-card-title">Flashcards</span>
            <span class="badge">5 Cards</span>
          </div>
          <div id="flashcardContent" class="output-card-body flashcard-body"></div>
        </div>

      </div>
    </div>

    <!-- History Drawer -->
    <div id="historyDrawer" class="history-drawer hidden">
      <div class="history-header">
        <h3>Previous Queries</h3>
        <button id="clearHistoryBtn" class="btn-clear">Clear All</button>
      </div>
      <div id="historyList" class="history-list"></div>
      <p id="historyEmpty" class="history-empty hidden">No history yet. Generate something!</p>
    </div>

  </main>

  <footer class="site-footer">
    <p>AI Study Buddy &mdash; Powered by Mistral-7B via Hugging Face &middot; For educational use only</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
